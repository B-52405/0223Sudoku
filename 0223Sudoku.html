<!DOCTYPE html>

<!--1.这里是我的个人网站。--> 
<!--2.因为暂时没有什么好往这里放的，所以先写了个数独。-->
<!--3.初学，轻喷。-->
<!--4.重定义get_sum函数可以手动调整数独难度。-->
<!--5.因为服务器是我自己电脑所以不会一直在线。-->
<!--6.联系方式见网页底部-->
<!--7.祝玩的开心。-->

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="b">
    <meta name="keywords" content="数独,sudoku">
    <meta name="Copyright" content="2633546269@qq.com">
    <meta name="baidu-site-verification" content="code-1ehD0X01TQ" />
    <link rel="shortcut icon" href="DBC2.png">

    <style>
        input {
            background-color: white;
            font-size: 30px;
            font-family: initial;
            font-weight: initial;
            border: none;
            text-align: center;
            width: 50px;
            height: 50px;
        }

        input.input_deeper {
            background-color: #f1f1f1;
        }

        td {
            border: black 1px solid;
            width: 30px;
            height: 30px;
            padding: 0px;
        }

        table.puzzle {
            border: black 3px solid;
            margin-left: auto;
            margin-right: auto;
            border-collapse: collapse;
            border-radius: 0.5em;
            box-shadow: 2px 3px 7px 2px rgba(0, 0, 0, 0.3);
        }

        table.box {
            border: black 2px solid;
            background-color: white;
            border-collapse: collapse;
        }

        pre {
            display: inline;
            user-select: none;
            line-height: 50px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        span {
            background-color: white;
            font-weight: 600;
            font-size: 50px;
            text-align: center;
            border-radius: 0.1em;
            box-shadow: 2px 3px 7px 2px rgba(0, 0, 0, 0.4);
            display: inline-left;
            width: 100px;
            cursor: pointer;
        }

        p {
            color: #afafaf;
            font-size: 5px;
            text-align: center;
            cursor: default;
            user-select: none;
            margin: 0 auto; 
        }

        body {
            background: url("bg.jpg") center center;
            background-color: #f0f0f2;
        }

        div {
            width: 550px;
            height: 600px;
            margin: 30px auto;
            padding: 2em;
            background-color: #fdfdff;
            border-radius: 0.5em;
            box-shadow: 2px 3px 7px 2px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body>
    <title>数独</title>
    <div>
        <table class="puzzle">
            <tr>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_00" maxlength="1"
                                    oninput="player_putin(0,0)"></td>
                            <td><input type="text" class="input_deeper" id="input_01" maxlength="1"
                                    oninput="player_putin(0,1)"></td>
                            <td><input type="text" class="input_deeper" id="input_02" maxlength="1"
                                    oninput="player_putin(0,2)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_10" maxlength="1"
                                    oninput="player_putin(1,0)"></td>
                            <td><input type="text" class="input_deeper" id="input_11" maxlength="1"
                                    oninput="player_putin(1,1)"></td>
                            <td><input type="text" class="input_deeper" id="input_12" maxlength="1"
                                    oninput="player_putin(1,2)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_20" maxlength="1"
                                    oninput="player_putin(2,0)"></td>
                            <td><input type="text" class="input_deeper" id="input_21" maxlength="1"
                                    oninput="player_putin(2,1)"></td>
                            <td><input type="text" class="input_deeper" id="input_22" maxlength="1"
                                    oninput="player_putin(2,2)"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" id="input_03" maxlength="1" oninput="player_putin(0,3)"></td>
                            <td><input type="text" id="input_04" maxlength="1" oninput="player_putin(0,4)"></td>
                            <td><input type="text" id="input_05" maxlength="1" oninput="player_putin(0,5)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_13" maxlength="1" oninput="player_putin(1,3)"></td>
                            <td><input type="text" id="input_14" maxlength="1" oninput="player_putin(1,4)"></td>
                            <td><input type="text" id="input_15" maxlength="1" oninput="player_putin(1,5)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_23" maxlength="1" oninput="player_putin(2,3)"></td>
                            <td><input type="text" id="input_24" maxlength="1" oninput="player_putin(2,4)"></td>
                            <td><input type="text" id="input_25" maxlength="1" oninput="player_putin(2,5)"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_06" maxlength="1"
                                    oninput="player_putin(0,6)"></td>
                            <td><input type="text" class="input_deeper" id="input_07" maxlength="1"
                                    oninput="player_putin(0,7)"></td>
                            <td><input type="text" class="input_deeper" id="input_08" maxlength="1"
                                    oninput="player_putin(0,8)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_16" maxlength="1"
                                    oninput="player_putin(1,6)"></td>
                            <td><input type="text" class="input_deeper" id="input_17" maxlength="1"
                                    oninput="player_putin(1,7)"></td>
                            <td><input type="text" class="input_deeper" id="input_18" maxlength="1"
                                    oninput="player_putin(1,8)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_26" maxlength="1"
                                    oninput="player_putin(2,6)"></td>
                            <td><input type="text" class="input_deeper" id="input_27" maxlength="1"
                                    oninput="player_putin(2,7)"></td>
                            <td><input type="text" class="input_deeper" id="input_28" maxlength="1"
                                    oninput="player_putin(2,8)"></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" id="input_30" maxlength="1" oninput="player_putin(3,0)"></td>
                            <td><input type="text" id="input_31" maxlength="1" oninput="player_putin(3,1)"></td>
                            <td><input type="text" id="input_32" maxlength="1" oninput="player_putin(3,2)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_40" maxlength="1" oninput="player_putin(4,0)"></td>
                            <td><input type="text" id="input_41" maxlength="1" oninput="player_putin(4,1)"></td>
                            <td><input type="text" id="input_42" maxlength="1" oninput="player_putin(4,2)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_50" maxlength="1" oninput="player_putin(5,0)"></td>
                            <td><input type="text" id="input_51" maxlength="1" oninput="player_putin(5,1)"></td>
                            <td><input type="text" id="input_52" maxlength="1" oninput="player_putin(5,2)"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_33" maxlength="1"
                                    oninput="player_putin(3,3)"></td>
                            <td><input type="text" class="input_deeper" id="input_34" maxlength="1"
                                    oninput="player_putin(3,4)"></td>
                            <td><input type="text" class="input_deeper" id="input_35" maxlength="1"
                                    oninput="player_putin(3,5)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_43" maxlength="1"
                                    oninput="player_putin(4,3)"></td>
                            <td><input type="text" class="input_deeper" id="input_44" maxlength="1"
                                    oninput="player_putin(4,4)"></td>
                            <td><input type="text" class="input_deeper" id="input_45" maxlength="1"
                                    oninput="player_putin(4,5)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_53" maxlength="1"
                                    oninput="player_putin(5,3)"></td>
                            <td><input type="text" class="input_deeper" id="input_54" maxlength="1"
                                    oninput="player_putin(5,4)"></td>
                            <td><input type="text" class="input_deeper" id="input_55" maxlength="1"
                                    oninput="player_putin(5,5)"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" id="input_36" maxlength="1" oninput="player_putin(3,6)"></td>
                            <td><input type="text" id="input_37" maxlength="1" oninput="player_putin(3,7)"></td>
                            <td><input type="text" id="input_38" maxlength="1" oninput="player_putin(3,8)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_46" maxlength="1" oninput="player_putin(4,6)"></td>
                            <td><input type="text" id="input_47" maxlength="1" oninput="player_putin(4,7)"></td>
                            <td><input type="text" id="input_48" maxlength="1" oninput="player_putin(4,8)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_56" maxlength="1" oninput="player_putin(5,6)"></td>
                            <td><input type="text" id="input_57" maxlength="1" oninput="player_putin(5,7)"></td>
                            <td><input type="text" id="input_58" maxlength="1" oninput="player_putin(5,8)"></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_60" maxlength="1"
                                    oninput="player_putin(6,0)"></td>
                            <td><input type="text" class="input_deeper" id="input_61" maxlength="1"
                                    oninput="player_putin(6,1)"></td>
                            <td><input type="text" class="input_deeper" id="input_62" maxlength="1"
                                    oninput="player_putin(6,2)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_70" maxlength="1"
                                    oninput="player_putin(7,0)"></td>
                            <td><input type="text" class="input_deeper" id="input_71" maxlength="1"
                                    oninput="player_putin(7,1)"></td>
                            <td><input type="text" class="input_deeper" id="input_72" maxlength="1"
                                    oninput="player_putin(7,2)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_80" maxlength="1"
                                    oninput="player_putin(8,0)"></td>
                            <td><input type="text" class="input_deeper" id="input_81" maxlength="1"
                                    oninput="player_putin(8,1)"></td>
                            <td><input type="text" class="input_deeper" id="input_82" maxlength="1"
                                    oninput="player_putin(8,2)"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" id="input_63" maxlength="1" oninput="player_putin(6,3)"></td>
                            <td><input type="text" id="input_64" maxlength="1" oninput="player_putin(6,4)"></td>
                            <td><input type="text" id="input_65" maxlength="1" oninput="player_putin(6,5)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_73" maxlength="1" oninput="player_putin(7,3)"></td>
                            <td><input type="text" id="input_74" maxlength="1" oninput="player_putin(7,4)"></td>
                            <td><input type="text" id="input_75" maxlength="1" oninput="player_putin(7,5)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="input_83" maxlength="1" oninput="player_putin(8,3)"></td>
                            <td><input type="text" id="input_84" maxlength="1" oninput="player_putin(8,4)"></td>
                            <td><input type="text" id="input_85" maxlength="1" oninput="player_putin(8,5)"></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <table class="box">
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_66" maxlength="1"
                                    oninput="player_putin(6,6)"></td>
                            <td><input type="text" class="input_deeper" id="input_67" maxlength="1"
                                    oninput="player_putin(6,7)"></td>
                            <td><input type="text" class="input_deeper" id="input_68" maxlength="1"
                                    oninput="player_putin(6,8)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_76" maxlength="1"
                                    oninput="player_putin(7,6)"></td>
                            <td><input type="text" class="input_deeper" id="input_77" maxlength="1"
                                    oninput="player_putin(7,7)"></td>
                            <td><input type="text" class="input_deeper" id="input_78" maxlength="1"
                                    oninput="player_putin(7,8)"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="input_deeper" id="input_86" maxlength="1"
                                    oninput="player_putin(8,6)"></td>
                            <td><input type="text" class="input_deeper" id="input_87" maxlength="1"
                                    oninput="player_putin(8,7)"></td>
                            <td><input type="text" class="input_deeper" id="input_88" maxlength="1"
                                    oninput="player_putin(8,8)"></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <br>
        <pre><span onclick="sudoku()">→</span>                <span onclick="solve()">√</span></pre>
    </div>
    <p>Copyright@ 2633546269@qq.com</p>
    
    <script defer type="text/javascript">
        var puzzle = new Array(9);
        var solved_puzzle = new Array(9);

        var lines = new Array(9);
        var cols = new Array(9);
        var boxes = new Array(9);
        var lists = new Array(9);

        function get_box_num(y, x) {
            return Math.floor(y / 3) * 3 + Math.floor(x / 3);
        }

        function remove(y, x) {
            var num = solved_puzzle[y][x];
            solved_puzzle[y][x] = 0;
            lines[y][num] = false;
            cols[x][num] = false;
            boxes[get_box_num(y, x)][num] = false;
        }

        function putin(y, x, num) {
            if (lines[y][num] || cols[x][num] || boxes[get_box_num(y, x)][num]) {
                return false;
            }
            if (solved_puzzle[y][x] != 0) {
                remove(y, x);
            }
            solved_puzzle[y][x] = num;
            lines[y][num] = true;
            cols[x][num] = true;
            boxes[get_box_num(y, x)][num] = true;
            return true;
        }

        function get_input(y, x) {
            return document.getElementById("input_".concat(y).concat(x));
        }

        function rand(num) {
            return Math.floor(Math.random() * num);
        }

        function attempt_random(y, x) {
            if (lists[y][x].length == 0) {
                lists[y][x] = new Array(1, 2, 3, 4, 5, 6, 7, 8, 9);
            }
            for (var i = lists[y][x].length; i > 0; i--) {
                if (putin(y, x, lists[y][x].splice(rand(i), 1))) {
                    return true;
                }
            }
            return false;
        }

        function get_sum() {
            return rand(18) + 36;
        }

        function sudoku() {
            var sum = get_sum();
            for (var i = 0; i < 9; i++) {
                puzzle[i] = new Array(9);
                solved_puzzle[i] = new Array(0, 0, 0, 0, 0, 0, 0, 0, 0);
                lines[i] = new Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
                cols[i] = new Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
                boxes[i] = new Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
                lists[i] = new Array(9);
                for (var j = 0; j < 9; j++) {
                    lists[i][j] = new Array();
                }
            }

            var y = 0, x = 0;
            while (y < 9) {
                if (attempt_random(y, x)) {
                    x++;
                    if (x == 9) {
                        x = 0;
                        y++;
                    }
                }
                else {
                    remove(y, x);
                    x--;
                    if (x == -1) {
                        x = 8;
                        y--;
                    }
                }
            }

            var rest = 81;
            for (i = 0; i < 81; i++) {
                y = Math.floor(i / 9);
                x = Math.floor(i % 9);
                var input_tem = get_input(y, x);
                if (rand(rest--) < sum) {
                    puzzle[y][x] = 0;
                    input_tem.value = "";
                    input_tem.removeAttribute("readonly");
                    sum--;
                }
                else {
                    puzzle[y][x] = solved_puzzle[y][x];
                    input_tem.value = puzzle[y][x];
                    input_tem.setAttribute("readonly", "readonly");
                }
            }
        }

        function solve() {
            for (var i = 0; i < 9; i++) {
                for (var j = 0; j < 9; j++) {
                    puzzle[i][j] = solved_puzzle[i][j];
                    var input_tem = get_input(i, j);
                    input_tem.value = solved_puzzle[i][j];
                    input_tem.style.color = "black";
                }
            }

        }

        function player_putin(y, x) {
            var value = get_input(y, x).value;
            if (value != 1 && value != 2 && value != 3 && value != 4 && value != 5 && value != 6 && value != 7 && value != 8 && value != 9) {
                value = 0;
                get_input(y, x).value = "";

            }
            puzzle[y][x] = value;
            for (var i = 0; i < 9; i++) {
                for (var j = 0; j < 9; j++) {
                    get_input(i, j).style.color = "black";
                }
            }
            for (i = 0; i < 9; i++) {
                for (j = 0; j < 9; j++) {
                    var num = puzzle[i][j];
                    if (num == 0) {
                        continue;
                    }
                    for (var k = 1; k < 9; k++) {
                        if (puzzle[(i + k) % 9][j] == num) {
                            get_input(i, j).style.color = "red";
                            get_input((i + k) % 9, j).style.color = "red";
                        }
                        if (puzzle[i][(j + k) % 9] == num) {
                            get_input(i, j).style.color = "red";
                            get_input(i, (j + k) % 9).style.color = "red";
                        }
                    }
                    var y0 = Math.floor(i / 3) * 3 + 2, x0 = Math.floor(j / 3) * 3 + 2;
                    for (var p = y0 - 2; p < y0; p++) {
                        for (var q = x0 - 2; q < x0; q++) {
                            if (p != i || q != j) {
                                if (puzzle[p][q] == num) {
                                    get_input(i, j).style.color = "red";
                                    get_input(p, q).style.color = "red";
                                }
                            }
                        }
                    }
                }
            }
            for (i = 0; i < 9; i++) {
                for (j = 0; j < 9; j++) {
                    if (puzzle[i][j] == 0 || get_input(i, j).style.color == "red") {
                        return;
                    }
                }
            }
            alert("恭喜！解题成功！");
        }

        sudoku();
    </script>
</body>

</html>